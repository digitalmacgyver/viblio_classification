<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">   
 <meta>
  <!-- Stylesheets -->
  <link href="../web.css" type="text/css" rel="stylesheet"></link>
  <title>VLFeat - Documentation - C API</title>
   
  
  <!-- Scripts-->
  
 </meta>
 
 <!-- Body Start -->
 <body>
  <div id="header">
   <!-- Google CSE Search Box Begins -->
   <form action="http://www.vlfeat.org/search.html" method="get" id="cse-search-box" enctype="application/x-www-form-urlencoded">
    <div>
     <input type="hidden" name="cx" value="003215582122030917471:oq23albfeam"></input>
     <input type="hidden" name="cof" value="FORID:11"></input>
     <input type="hidden" name="ie" value="UTF-8"></input>
     <input type="text" name="q" size="31"></input>
     <input type="submit" name="sa" value="Search"></input>
    </div>
   </form>
   <script src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en" xml:space="preserve" type="text/javascript"></script>
   <!-- Google CSE Search Box Ends -->
   <h1>VLFeat.org</h1>
  </div>
  <div id="headbanner">
   Documentation - C API
  </div>
  <div id="pagebody">
   <div id="sidebar"> <!-- Navigation Start -->
    <ul>
<li><a href="../index.html">Home</a>
</li>
<li><a href="../download.html">Download</a>
</li>
<li><a href="../doc.html">Documentation</a>
<ul>
<li><a href="../mdoc/mdoc.html">Matlab API</a>
</li>
<li><a href="index.html" class='active' >C API</a>
</li>
<li><a href="../man/man.html">Man pages</a>
</li>
</ul></li>
<li><a href="../overview/tut.html">Tutorials</a>
</li>
</ul>

   </div> <!-- sidebar -->
   <div id="content">
    
    <div class="doxygen">
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>mser.h File Reference</h1>Maximally Stable Extremal Regions (MSER).  
<a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="generic_8h-source.html">generic.h</a>&quot;</code><br>

<p>
<a href="mser_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__VlMserStats.html">_VlMserStats</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSER filter statistics definition.  <a href="struct__VlMserStats.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__VlMserReg.html">_VlMserReg</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSER: basic region (declaration).  <a href="struct__VlMserReg.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__VlMserExtrReg.html">_VlMserExtrReg</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSER: extremal region (declaration).  <a href="struct__VlMserExtrReg.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__VlMserFilt.html">_VlMserFilt</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSER filter.  <a href="struct__VlMserFilt.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#b88df95be093992e6c90caf07711182a">VL_MSER_PIX_MAXVAL</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum value.  <a href="#b88df95be093992e6c90caf07711182a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#8dedc365f221c110cee8b0634ab86241">VL_MSER_VOID_NODE</a>&nbsp;&nbsp;&nbsp;((1ui64&lt;&lt;32) - 1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Basic region flag: null region.  <a href="#8dedc365f221c110cee8b0634ab86241"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="host_8h.html#38fbd9a3cf53dfc9a5650c38497b7d35">vl_uint8</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#5f6872cfbb7787c2a38cc2d5f138c716">vl_mser_pix</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSER image data type.  <a href="#5f6872cfbb7787c2a38cc2d5f138c716"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct__VlMserFilt.html">_VlMserFilt</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#508666acd5deff541468b65fa2f293ff">VlMserFilt</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSER Filter.  <a href="#508666acd5deff541468b65fa2f293ff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ed50184c1f1c7b19864a31918af124a8"></a><!-- doxytag: member="mser.h::VlMserStats" ref="ed50184c1f1c7b19864a31918af124a8" args="" -->
typedef struct <a class="el" href="struct__VlMserStats.html">_VlMserStats</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#ed50184c1f1c7b19864a31918af124a8">VlMserStats</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSER filter statistics. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#4da3be7334e5383e02c829c53ddb9e34">vl_mser_acc</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSER accumulator data type.  <a href="#4da3be7334e5383e02c829c53ddb9e34"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct__VlMserReg.html">_VlMserReg</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#773ec2215f4944379d40e5f0c3fa9e91">VlMserReg</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSER: basic region.  <a href="#773ec2215f4944379d40e5f0c3fa9e91"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct__VlMserExtrReg.html">_VlMserExtrReg</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#90014178f0814bd3bb87e895a6826639">VlMserExtrReg</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">MSER: extremal region.  <a href="#90014178f0814bd3bb87e895a6826639"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Construction and Destruction</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT <a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#b48f4b5b4ce225847890acbe9727803a">vl_mser_new</a> (int ndims, int const *dims)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new MSER filter.  <a href="#b48f4b5b4ce225847890acbe9727803a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#ed34dae689fa5b0826aca68196b7812a">vl_mser_delete</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete MSER filter.  <a href="#ed34dae689fa5b0826aca68196b7812a"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Processing</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#7e37b62fde731c80db068231be5953c3">vl_mser_process</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *f, <a class="el" href="mser_8h.html#5f6872cfbb7787c2a38cc2d5f138c716">vl_mser_pix</a> const *im)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process image.  <a href="#7e37b62fde731c80db068231be5953c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#41015c5d5a9d8ae63ead0742d1bb9bd2">vl_mser_ell_fit</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fit ellipsoids.  <a href="#41015c5d5a9d8ae63ead0742d1bb9bd2"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Retrieving data</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE <a class="el" href="host_8h.html#5bd6e91d6bfd0be04101fdca94069c92">vl_uint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#936317fc843d94055d4ccbf14e22be4b">vl_mser_get_regions_num</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of maximally stable extremal regions.  <a href="#936317fc843d94055d4ccbf14e22be4b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE <a class="el" href="host_8h.html#5bd6e91d6bfd0be04101fdca94069c92">vl_uint</a> const *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#95d36cf6a5273eed609eec066daba35c">vl_mser_get_regions</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get maximally stable extremal regions.  <a href="#95d36cf6a5273eed609eec066daba35c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE float const *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#b2bc76608b4bd4e81124e9cbc7f27bcf">vl_mser_get_ell</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get ellipsoids.  <a href="#b2bc76608b4bd4e81124e9cbc7f27bcf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE <a class="el" href="host_8h.html#5bd6e91d6bfd0be04101fdca94069c92">vl_uint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#6318ea1ab44ccb1c8eede4c2cd9cb9fd">vl_mser_get_ell_num</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of ellipsoids.  <a href="#6318ea1ab44ccb1c8eede4c2cd9cb9fd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE <a class="el" href="host_8h.html#5bd6e91d6bfd0be04101fdca94069c92">vl_uint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#08f3ee0189f4d9e5d89bb5d61ea168af">vl_mser_get_ell_dof</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of degrees of freedom of ellipsoids.  <a href="#08f3ee0189f4d9e5d89bb5d61ea168af"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE <a class="el" href="struct__VlMserStats.html">VlMserStats</a> const *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#a852982b47d1d41263fd649a5db5b5d4">vl_mser_get_stats</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get statistics.  <a href="#a852982b47d1d41263fd649a5db5b5d4"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Retrieving parameters</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE <a class="el" href="mser_8h.html#5f6872cfbb7787c2a38cc2d5f138c716">vl_mser_pix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#789e7ecd354313b4af18af9207f8ad22">vl_mser_get_delta</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get delta.  <a href="#789e7ecd354313b4af18af9207f8ad22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#2a100a8dc3a054364b75a43b45bbc262">vl_mser_get_min_area</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get minimum region area.  <a href="#2a100a8dc3a054364b75a43b45bbc262"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#071a15b84638ca90b7e998fb5b907dcb">vl_mser_get_max_area</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get maximum region area.  <a href="#071a15b84638ca90b7e998fb5b907dcb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#1d714b4ec437ae6edf0fc7000a3d6c4e">vl_mser_get_max_variation</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get maximum region variation.  <a href="#1d714b4ec437ae6edf0fc7000a3d6c4e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#f5fe1d0467baa438ebebf6826011a831">vl_mser_get_min_diversity</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get minimum diversity.  <a href="#f5fe1d0467baa438ebebf6826011a831"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Setting parameters</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#0afbeb853949ef2a7fcb33e21e11b1dc">vl_mser_set_delta</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *f, <a class="el" href="mser_8h.html#5f6872cfbb7787c2a38cc2d5f138c716">vl_mser_pix</a> x)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set delta.  <a href="#0afbeb853949ef2a7fcb33e21e11b1dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#40307a368d49bf57efccd238f4a7dbe8">vl_mser_set_min_area</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *f, double x)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set minimum region area.  <a href="#40307a368d49bf57efccd238f4a7dbe8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#05570036dcd5910354f30566f9577968">vl_mser_set_max_area</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *f, double x)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set maximum region area.  <a href="#05570036dcd5910354f30566f9577968"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#2c3ba326ea007046171643ce8a42688e">vl_mser_set_max_variation</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *f, double x)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set maximum region variation.  <a href="#2c3ba326ea007046171643ce8a42688e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mser_8h.html#7347f25a1e2db8804d072f76e5a320a0">vl_mser_set_min_diversity</a> (<a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *f, double x)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set minimum diversity.  <a href="#7347f25a1e2db8804d072f76e5a320a0"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" name="mser">
Maximally Stable Extremal Regions Overview</a></h2>
Running the MSER filter usually involves the following steps:<p>
<ul>
<li>Initialize the MSER filter by <a class="el" href="mser_8c.html#b48f4b5b4ce225847890acbe9727803a" title="Create a new MSER filter.">vl_mser_new()</a>. The filter can be reused for images of the same size.</li><li>Compute the MSERs by <a class="el" href="mser_8c.html#7e37b62fde731c80db068231be5953c3" title="Process image.">vl_mser_process()</a>.</li><li>Optionally fit ellipsoids to the MSERs by <a class="el" href="mser_8c.html#41015c5d5a9d8ae63ead0742d1bb9bd2" title="Fit ellipsoids.">vl_mser_ell_fit()</a>.</li><li>Retrieve the results by <a class="el" href="mser_8h.html#95d36cf6a5273eed609eec066daba35c" title="Get maximally stable extremal regions.">vl_mser_get_regions()</a> (and optionally <a class="el" href="mser_8h.html#b2bc76608b4bd4e81124e9cbc7f27bcf" title="Get ellipsoids.">vl_mser_get_ell()</a>).</li><li>Optionally retrieve filter statistics by <a class="el" href="mser_8h.html#a852982b47d1d41263fd649a5db5b5d4" title="Get statistics.">vl_mser_get_stats()</a>.</li><li>Delete the MSER filter by <a class="el" href="mser_8c.html#ed34dae689fa5b0826aca68196b7812a" title="Delete MSER filter.">vl_mser_delete()</a>.</li></ul>
<h3><a class="anchor" name="mser-definition">
MSER definition</a></h3>
An extremal region <img class="formulaInl" alt="$R_l$" src="form_111.png"> of an image is a connected component of the level set <img class="formulaInl" alt="$S_l = \{ x : I(x) \leq l \}$" src="form_112.png">.<p>
<div align="center">
<img src="mser-er.png" alt="mser-er.png">
</div>
<p>
For each intensity <img class="formulaInl" alt="$l$" src="form_113.png">, one has multiple disjoint extremal regions in the level set <img class="formulaInl" alt="$S_l$" src="form_114.png">. Let <img class="formulaInl" alt="$l$" src="form_113.png"> span a finite number of values <img class="formulaInl" alt="$\mathcal{L}=\{0,\dots,M-1\}$" src="form_115.png"> (a sampling of the image range). One obtains a family of regions <img class="formulaInl" alt="$R_l$" src="form_111.png">; by connecting two regions <img class="formulaInl" alt="$R_l$" src="form_111.png">and <img class="formulaInl" alt="$R_{l+1}$" src="form_116.png"> if, and only if, <img class="formulaInl" alt="$R_l\subset R_{l+1}$" src="form_117.png">, regions form a tree:<p>
<div align="center">
<img src="mser-tree.png" alt="mser-tree.png">
</div>
<p>
The <em>maximally stable extremal regions</em> are extremal regions which satisfy a stability criterion. Here we use a criterion which is similar but not identical to the original paper. This definition is somewhat simpler both to understand and code (it also runs faster).<p>
Let <img class="formulaInl" alt="$B(R_l)=(R_l,R_{l+1},\dots,R_{l+\Delta})$" src="form_118.png"> be the branch of the tree rooted at <img class="formulaInl" alt="$R_l$" src="form_111.png">. We associate to the branch the (in)stability score<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ v(R_l) = \frac{|R_{l+\Delta} - R_l|}{|R_l|}. \]" src="form_119.png">
<p>
<p>
The score is low if the regions along the branch have similar area (and thus similar shape). We aim to select maximally stable branches; then a maximally stable region is just a representative region selected from a maximally stable branch (for simplicity we select <img class="formulaInl" alt="$R_l$" src="form_111.png">, but one could choose for example <img class="formulaInl" alt="$R_{l+\Delta/2}$" src="form_120.png">).<p>
Roughly speaking, a branch is maximally stable if it is a local minimum of the (in)stability score. More accurately, we start by assuming that all branches are maximally stable. Then we consider each branch <img class="formulaInl" alt="$B(R_{l})$" src="form_121.png"> and its parent branch <img class="formulaInl" alt="$B(R_{l+1}):R_{l+1}\supset R_l$" src="form_122.png"> (notice that, due to the discrete nature of the calculations, they might be geometrically identical) and we mark as unstable the less stable one, i.e.:<p>
<ul>
<li>if <img class="formulaInl" alt="$v(R_l)<v(R_{l+1})$" src="form_123.png">, mark <img class="formulaInl" alt="$R_{l+1}$" src="form_116.png"> as unstable;</li><li>if <img class="formulaInl" alt="$v(R_l)>v(R_{l+1})$" src="form_124.png">, mark <img class="formulaInl" alt="$R_{l}$" src="form_125.png"> as unstable;</li><li>otherwise, do nothing.</li></ul>
<p>
This criterion selects among nearby regions the ones that are more stable. We optionally refine the selection by running (starting from the bigger and going to the smaller regions) the following tests:<p>
<ul>
<li><img class="formulaInl" alt="$a_- \leq |R_{l}|/|R_{\infty}| \leq a_+$" src="form_126.png">: exclude MSERs too small or too big (<img class="formulaInl" alt="$|R_{\infty}|$" src="form_127.png"> is the area of the image).</li></ul>
<p>
<ul>
<li><img class="formulaInl" alt="$v(R_{l}) < v_+$" src="form_128.png">: exclude MSERs too unstable.</li></ul>
<p>
<ul>
<li>For any MSER <img class="formulaInl" alt="$R_l$" src="form_111.png">, find the parent MSER <img class="formulaInl" alt="$R_{l'}$" src="form_129.png"> and check if <img class="formulaInl" alt="$|R_{l'} - R_l|/|R_l'| < d_+$" src="form_130.png">: remove duplicated MSERs.</li></ul>
<p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<td>parameter </td><td>alt. name </td><td>standard value </td><td>set by  </td></tr>
<tr>
<td><img class="formulaInl" alt="$\Delta$" src="form_131.png"> </td><td><code>delta</code>  </td><td>5 </td><td><a class="el" href="mser_8h.html#0afbeb853949ef2a7fcb33e21e11b1dc" title="Set delta.">vl_mser_set_delta()</a>  </td></tr>
<tr>
<td><img class="formulaInl" alt="$a_+$" src="form_132.png"> </td><td><code>max_area</code>  </td><td>0.75 </td><td><a class="el" href="mser_8h.html#05570036dcd5910354f30566f9577968" title="Set maximum region area.">vl_mser_set_max_area()</a>  </td></tr>
<tr>
<td><img class="formulaInl" alt="$a_-$" src="form_133.png"> </td><td><code>min_area</code>  </td><td>3.0/<img class="formulaInl" alt="$|R_\infty|$" src="form_134.png"> </td><td><a class="el" href="mser_8h.html#40307a368d49bf57efccd238f4a7dbe8" title="Set minimum region area.">vl_mser_set_min_area()</a>  </td></tr>
<tr>
<td><img class="formulaInl" alt="$v_+$" src="form_135.png"> </td><td><code>max_var</code>  </td><td>0.25 </td><td><a class="el" href="mser_8h.html#2c3ba326ea007046171643ce8a42688e" title="Set maximum region variation.">vl_mser_set_max_variation()</a>  </td></tr>
<tr>
<td><img class="formulaInl" alt="$d_+$" src="form_136.png"> </td><td><code>min_diversity</code>  </td><td>0.2 </td><td><a class="el" href="mser_8h.html#7347f25a1e2db8804d072f76e5a320a0" title="Set minimum diversity.">vl_mser_set_min_diversity()</a>  </td></tr>
</table>
<h3><a class="anchor" name="mser-vol">
Volumetric images</a></h3>
The code supports images of arbitrary dimension. For instance, it is possible to find the MSER regions of volumetric images or time sequences. See <a class="el" href="mser_8c.html#b48f4b5b4ce225847890acbe9727803a" title="Create a new MSER filter.">vl_mser_new()</a> for further details.s<h3><a class="anchor" name="mser-ell">
Ellipsoids</a></h3>
Usually extremal regions are returned as a set of ellipsoids fitted to the actual regions (which have arbitrary shape). The fit is done by calculating the mean and variance of the pixels composing the region: <p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mu_l = \frac{1}{|R_l|}\sum_{x\in R_l}x, \qquad \Sigma_l = \frac{1}{|R_l|}\sum_{x\in R_l} (x-\mu_l)^\top(x-\mu_l) \]" src="form_137.png">
<p>
 Ellipsoids are fitted by <a class="el" href="mser_8c.html#41015c5d5a9d8ae63ead0742d1bb9bd2" title="Fit ellipsoids.">vl_mser_ell_fit()</a>. Notice that for a <em>n</em> dimensional image, the mean has <em>n</em> components and the variance has <em>n(n+1)/2</em> independent components. The total number of components is obtained by <a class="el" href="mser_8h.html#08f3ee0189f4d9e5d89bb5d61ea168af" title="Get number of degrees of freedom of ellipsoids.">vl_mser_get_ell_dof()</a> and the total number of fitted ellipsoids by <a class="el" href="mser_8h.html#6318ea1ab44ccb1c8eede4c2cd9cb9fd" title="Get number of ellipsoids.">vl_mser_get_ell_num()</a>. A matrix with an ellipsoid per column is returned by <a class="el" href="mser_8h.html#b2bc76608b4bd4e81124e9cbc7f27bcf" title="Get ellipsoids.">vl_mser_get_ell()</a>. The column is the stacking of the mean and of the independent components of the variance, in the order <em>(1,1),(1,2),..,(1,n), (2,2),(2,3)...</em>. In the calculations, the pixel coordinate <img class="formulaInl" alt="$x=(x_1,...,x_n)$" src="form_138.png"> use the standard index order and ranges.<h3><a class="anchor" name="mser-algo">
Algorithm</a></h3>
The algorithm is quite efficient. While some details may be tricky, the overall idea is easy to grasp.<p>
<ul>
<li>Pixels are sorted by increasing intensity.</li><li>Pixels are added to a forest by increasing intensity. The forest has the following properties:<ul>
<li>All the descendent of a certain pixels are subset of an extremal region.</li><li>All the extremal regions are the descendants of some pixels.</li></ul>
</li><li>Extremal regions are extracted from the region tree and the extremal regions tree is calculated.</li><li>Stable regions are marked.</li><li>Duplicates and other bad regions are removed.</li></ul>
<p>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>The extremal region tree which is calculated is a subset of the actual extremal region tree. In particular, it does not contain redundant entries extremal regions that coincide as sets. So, for example, in the calculated extremal region tree, the parent <img class="formulaInl" alt="$R_q$" src="form_139.png"> of an extremal region <img class="formulaInl" alt="$R_{l}$" src="form_125.png"> may or may <em>not</em> correspond to <img class="formulaInl" alt="$R_{l+1}$" src="form_116.png">, depending whether <img class="formulaInl" alt="$q\leq l+1$" src="form_140.png"> or not. These subtleties are important when calculating the stability tests.</dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Andrea Vedaldi </dd></dl>

<p>Definition in file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="b88df95be093992e6c90caf07711182a"></a><!-- doxytag: member="mser.h::VL_MSER_PIX_MAXVAL" ref="b88df95be093992e6c90caf07711182a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL_MSER_PIX_MAXVAL&nbsp;&nbsp;&nbsp;256          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maximum value of the integer type <a class="el" href="mser_8h.html#5f6872cfbb7787c2a38cc2d5f138c716" title="MSER image data type.">vl_mser_pix</a>. 
<p>Definition at line <a class="el" href="mser_8h-source.html#l00030">30</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

<p>Referenced by <a class="el" href="mser_8c-source.html#l00384">vl_mser_process()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8dedc365f221c110cee8b0634ab86241"></a><!-- doxytag: member="mser.h::VL_MSER_VOID_NODE" ref="8dedc365f221c110cee8b0634ab86241" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VL_MSER_VOID_NODE&nbsp;&nbsp;&nbsp;((1ui64&lt;&lt;32) - 1)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<p><b>For internal use only.</b></p>
<p>
</p>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00119">119</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

<p>Referenced by <a class="el" href="mser_8c-source.html#l00384">vl_mser_process()</a>.</p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="4da3be7334e5383e02c829c53ddb9e34"></a><!-- doxytag: member="mser.h::vl_mser_acc" ref="4da3be7334e5383e02c829c53ddb9e34" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef float <a class="el" href="mser_8h.html#4da3be7334e5383e02c829c53ddb9e34">vl_mser_acc</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<p><b>For internal use only.</b></p>
<p>
This is a large integer type. It should be large enough to contain a number equal to the area (volume) of the image by the image width by the image height (for instance, if the image is a square of side 256, the maximum value is 256 x 256 x 256). </p>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00115">115</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="5f6872cfbb7787c2a38cc2d5f138c716"></a><!-- doxytag: member="mser.h::vl_mser_pix" ref="5f6872cfbb7787c2a38cc2d5f138c716" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="host_8h.html#38fbd9a3cf53dfc9a5650c38497b7d35">vl_uint8</a> <a class="el" href="mser_8h.html#5f6872cfbb7787c2a38cc2d5f138c716">vl_mser_pix</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is the data type of the image pixels. It has to be an integer. 
<p>Definition at line <a class="el" href="mser_8h-source.html#l00024">24</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="90014178f0814bd3bb87e895a6826639"></a><!-- doxytag: member="mser.h::VlMserExtrReg" ref="90014178f0814bd3bb87e895a6826639" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__VlMserExtrReg.html">_VlMserExtrReg</a> <a class="el" href="struct__VlMserExtrReg.html">VlMserExtrReg</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<p><b>For internal use only.</b></p>
<p>
</p>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00196">196</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="508666acd5deff541468b65fa2f293ff"></a><!-- doxytag: member="mser.h::VlMserFilt" ref="508666acd5deff541468b65fa2f293ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__VlMserFilt.html">_VlMserFilt</a> <a class="el" href="struct__VlMserFilt.html">VlMserFilt</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The MSER filter computes the Maximally Stable Extremal Regions of an image.<p>
This structure is <a class="el" href="index.html#main-glossary">opaque</a>.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="mser_8h.html#mser">Maximally Stable Extremal Regions Overview</a> </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00042">42</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="773ec2215f4944379d40e5f0c3fa9e91"></a><!-- doxytag: member="mser.h::VlMserReg" ref="773ec2215f4944379d40e5f0c3fa9e91" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__VlMserReg.html">_VlMserReg</a> <a class="el" href="struct__VlMserReg.html">VlMserReg</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<p><b>For internal use only.</b></p>
<p>
</p>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00157">157</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ed34dae689fa5b0826aca68196b7812a"></a><!-- doxytag: member="mser.h::vl_mser_delete" ref="ed34dae689fa5b0826aca68196b7812a" args="(VlMserFilt *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void vl_mser_delete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The function releases the MSER filter <em>f</em> and all its resources.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter to be deleted. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="mser_8c-source.html#l00348">348</a> of file <a class="el" href="mser_8c-source.html">mser.c</a>.</p>

<p>References <a class="el" href="generic_8h-source.html#l00265">vl_free()</a>.</p>

</div>
</div><p>
<a class="anchor" name="41015c5d5a9d8ae63ead0742d1bb9bd2"></a><!-- doxytag: member="mser.h::vl_mser_ell_fit" ref="41015c5d5a9d8ae63ead0742d1bb9bd2" args="(VlMserFilt *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void vl_mser_ell_fit           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter.</td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="mser_8h.html#mser-ell">Ellipsoids</a> </dd></dl>

<p>Definition at line <a class="el" href="mser_8c-source.html#l00851">851</a> of file <a class="el" href="mser_8c-source.html">mser.c</a>.</p>

<p>References <a class="el" href="mser_8h-source.html#l00232">_VlMserFilt::acc</a>, <a class="el" href="mser_8c-source.html#l00202">adv()</a>, <a class="el" href="mser_8h-source.html#l00153">_VlMserReg::area</a>, <a class="el" href="mser_8h-source.html#l00236">_VlMserFilt::dof</a>, <a class="el" href="mser_8h-source.html#l00233">_VlMserFilt::ell</a>, <a class="el" href="mser_8h-source.html#l00209">_VlMserFilt::nel</a>, <a class="el" href="mser_8h-source.html#l00235">_VlMserFilt::nell</a>, <a class="el" href="mser_8h-source.html#l00225">_VlMserFilt::nmer</a>, <a class="el" href="mser_8h-source.html#l00150">_VlMserReg::parent</a>, <a class="el" href="mser_8h-source.html#l00234">_VlMserFilt::rell</a>, <a class="el" href="generic_8h-source.html#l00265">vl_free()</a>, and <a class="el" href="generic_8h-source.html#l00247">vl_malloc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="789e7ecd354313b4af18af9207f8ad22"></a><!-- doxytag: member="mser.h::vl_mser_get_delta" ref="789e7ecd354313b4af18af9207f8ad22" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE <a class="el" href="mser_8h.html#5f6872cfbb7787c2a38cc2d5f138c716">vl_mser_pix</a> vl_mser_get_delta           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>value of <code>delta</code>. </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00259">259</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b2bc76608b4bd4e81124e9cbc7f27bcf"></a><!-- doxytag: member="mser.h::vl_mser_get_ell" ref="b2bc76608b4bd4e81124e9cbc7f27bcf" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE float const * vl_mser_get_ell           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>ellipsoids. </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00396">396</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="08f3ee0189f4d9e5d89bb5d61ea168af"></a><!-- doxytag: member="mser.h::vl_mser_get_ell_dof" ref="08f3ee0189f4d9e5d89bb5d61ea168af" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE <a class="el" href="host_8h.html#5bd6e91d6bfd0be04101fdca94069c92">vl_uint</a> vl_mser_get_ell_dof           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of degrees of freedom. </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00406">406</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6318ea1ab44ccb1c8eede4c2cd9cb9fd"></a><!-- doxytag: member="mser.h::vl_mser_get_ell_num" ref="6318ea1ab44ccb1c8eede4c2cd9cb9fd" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE <a class="el" href="host_8h.html#5bd6e91d6bfd0be04101fdca94069c92">vl_uint</a> vl_mser_get_ell_num           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of ellipsoids </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00416">416</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="071a15b84638ca90b7e998fb5b907dcb"></a><!-- doxytag: member="mser.h::vl_mser_get_max_area" ref="071a15b84638ca90b7e998fb5b907dcb" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE double vl_mser_get_max_area           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>maximum region area. </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00312">312</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="1d714b4ec437ae6edf0fc7000a3d6c4e"></a><!-- doxytag: member="mser.h::vl_mser_get_max_variation" ref="1d714b4ec437ae6edf0fc7000a3d6c4e" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE double vl_mser_get_max_variation           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>maximum region variation. </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00354">354</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="2a100a8dc3a054364b75a43b45bbc262"></a><!-- doxytag: member="mser.h::vl_mser_get_min_area" ref="2a100a8dc3a054364b75a43b45bbc262" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE double vl_mser_get_min_area           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>minimum region area. </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00333">333</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f5fe1d0467baa438ebebf6826011a831"></a><!-- doxytag: member="mser.h::vl_mser_get_min_diversity" ref="f5fe1d0467baa438ebebf6826011a831" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE double vl_mser_get_min_diversity           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>value of <code>minimum</code> diversity. </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00280">280</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="95d36cf6a5273eed609eec066daba35c"></a><!-- doxytag: member="mser.h::vl_mser_get_regions" ref="95d36cf6a5273eed609eec066daba35c" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE <a class="el" href="host_8h.html#5bd6e91d6bfd0be04101fdca94069c92">vl_uint</a> const * vl_mser_get_regions           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>array of MSER pivots. </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00375">375</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="936317fc843d94055d4ccbf14e22be4b"></a><!-- doxytag: member="mser.h::vl_mser_get_regions_num" ref="936317fc843d94055d4ccbf14e22be4b" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE <a class="el" href="host_8h.html#5bd6e91d6bfd0be04101fdca94069c92">vl_uint</a> vl_mser_get_regions_num           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of MSERs. </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00385">385</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="a852982b47d1d41263fd649a5db5b5d4"></a><!-- doxytag: member="mser.h::vl_mser_get_stats" ref="a852982b47d1d41263fd649a5db5b5d4" args="(VlMserFilt const *f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE <a class="el" href="struct__VlMserStats.html">VlMserStats</a> const * vl_mser_get_stats           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> const *&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>statistics. </dd></dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00301">301</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b48f4b5b4ce225847890acbe9727803a"></a><!-- doxytag: member="mser.h::vl_mser_new" ref="b48f4b5b4ce225847890acbe9727803a" args="(int ndims, int const *dims)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT <a class="el" href="struct__VlMserFilt.html">VlMserFilt</a>* vl_mser_new           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int const *&nbsp;</td>
          <td class="paramname"> <em>dims</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes a new MSER filter for images of the specified dimensions. Images are <em>ndims</em> -dimensional arrays of dimensions <em>dims</em>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ndims</em>&nbsp;</td><td>number of dimensions. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dims</em>&nbsp;</td><td>dimensions. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="mser_8c-source.html#l00284">284</a> of file <a class="el" href="mser_8c-source.html">mser.c</a>.</p>

<p>References <a class="el" href="generic_8h-source.html#l00259">vl_calloc()</a>, and <a class="el" href="generic_8h-source.html#l00247">vl_malloc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7e37b62fde731c80db068231be5953c3"></a><!-- doxytag: member="mser.h::vl_mser_process" ref="7e37b62fde731c80db068231be5953c3" args="(VlMserFilt *f, vl_mser_pix const *im)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void vl_mser_process           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mser_8h.html#5f6872cfbb7787c2a38cc2d5f138c716">vl_mser_pix</a> const *&nbsp;</td>
          <td class="paramname"> <em>im</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The functions calculates the Maximally Stable Extremal Regions (MSERs) of image <em>im</em> using the MSER filter <em>f</em>.<p>
The filter <em>f</em> must have been initialized to be compatible with the dimensions of <em>im</em>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>im</em>&nbsp;</td><td>image data. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="mser_8c-source.html#l00384">384</a> of file <a class="el" href="mser_8c-source.html">mser.c</a>.</p>

<p>References <a class="el" href="mser_8h-source.html#l00190">_VlMserExtrReg::area</a>, <a class="el" href="mser_8h-source.html#l00153">_VlMserReg::area</a>, <a class="el" href="mser_8c-source.html#l00227">climb()</a>, <a class="el" href="mser_8h-source.html#l00222">_VlMserFilt::er</a>, <a class="el" href="mser_8h-source.html#l00152">_VlMserReg::height</a>, <a class="el" href="mser_8h-source.html#l00187">_VlMserExtrReg::index</a>, <a class="el" href="mser_8h-source.html#l00192">_VlMserExtrReg::max_stable</a>, <a class="el" href="mser_8h-source.html#l00223">_VlMserFilt::mer</a>, <a class="el" href="mser_8h-source.html#l00186">_VlMserExtrReg::parent</a>, <a class="el" href="mser_8h-source.html#l00150">_VlMserReg::parent</a>, <a class="el" href="mser_8h-source.html#l00226">_VlMserFilt::rer</a>, <a class="el" href="mser_8h-source.html#l00227">_VlMserFilt::rmer</a>, <a class="el" href="mser_8h-source.html#l00189">_VlMserExtrReg::shortcut</a>, <a class="el" href="mser_8h-source.html#l00151">_VlMserReg::shortcut</a>, <a class="el" href="mexutils_8h-source.html#l00767">_uMexOption::val</a>, <a class="el" href="mser_8h-source.html#l00188">_VlMserExtrReg::value</a>, <a class="el" href="mser_8h-source.html#l00191">_VlMserExtrReg::variation</a>, <a class="el" href="generic_8h-source.html#l00265">vl_free()</a>, <a class="el" href="generic_8h-source.html#l00247">vl_malloc()</a>, <a class="el" href="generic_8h-source.html#l00211">VL_MAX</a>, <a class="el" href="mser_8h-source.html#l00030">VL_MSER_PIX_MAXVAL</a>, and <a class="el" href="mser_8h-source.html#l00119">VL_MSER_VOID_NODE</a>.</p>

</div>
</div><p>
<a class="anchor" name="0afbeb853949ef2a7fcb33e21e11b1dc"></a><!-- doxytag: member="mser.h::vl_mser_set_delta" ref="0afbeb853949ef2a7fcb33e21e11b1dc" args="(VlMserFilt *f, vl_mser_pix x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE void vl_mser_set_delta           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mser_8h.html#5f6872cfbb7787c2a38cc2d5f138c716">vl_mser_pix</a>&nbsp;</td>
          <td class="paramname"> <em>x</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>value of <code>delta</code>. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00269">269</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="05570036dcd5910354f30566f9577968"></a><!-- doxytag: member="mser.h::vl_mser_set_max_area" ref="05570036dcd5910354f30566f9577968" args="(VlMserFilt *f, double x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE void vl_mser_set_max_area           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>maximum region area. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00322">322</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="2c3ba326ea007046171643ce8a42688e"></a><!-- doxytag: member="mser.h::vl_mser_set_max_variation" ref="2c3ba326ea007046171643ce8a42688e" args="(VlMserFilt *f, double x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE void vl_mser_set_max_variation           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>maximum region variation. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00364">364</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="40307a368d49bf57efccd238f4a7dbe8"></a><!-- doxytag: member="mser.h::vl_mser_set_min_area" ref="40307a368d49bf57efccd238f4a7dbe8" args="(VlMserFilt *f, double x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE void vl_mser_set_min_area           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>minimum region area. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00343">343</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7347f25a1e2db8804d072f76e5a320a0"></a><!-- doxytag: member="mser.h::vl_mser_set_min_diversity" ref="7347f25a1e2db8804d072f76e5a320a0" args="(VlMserFilt *f, double x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE void vl_mser_set_min_diversity           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlMserFilt.html">VlMserFilt</a> *&nbsp;</td>
          <td class="paramname"> <em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>x</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>f</em>&nbsp;</td><td>MSER filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>value of <code>minimum</code> diversity. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="mser_8h-source.html#l00290">290</a> of file <a class="el" href="mser_8h-source.html">mser.h</a>.</p>

</div>
</div><p>
</div>
     <!-- Doc Here -->
    </div>
   
   </div>
   <div class="clear">&nbsp;</div>
  </div> <!-- pagebody -->
  <div id="footer">
   &copy; 2005-09 Andrea Vedaldi and Brian Fulkerson
  </div> <!-- footer -->
  
  <!-- Google Analytics Begins -->
  <script xml:space="preserve" type="text/javascript">
   //<![CDATA[
    var localre = /vlfeat.org/;
    if(document.location.host.search(localre) != -1)
    {
   var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
   document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
   }
   //]]>
  </script>
  <script xml:space="preserve" type="text/javascript">
    //<![CDATA[
    var localre = /vlfeat.org/;
    if(document.location.host.search(localre) != -1)
    {

   try {
   var pageTracker = _gat._getTracker("UA-4936091-2");
   pageTracker._trackPageview();
   } catch(err) {}

   }
   //]]>
  </script>
  <!-- Google Analytics Ends -->
 </body>
</html>

 
