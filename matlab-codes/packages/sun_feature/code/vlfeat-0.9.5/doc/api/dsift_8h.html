<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">   
 <meta>
  <!-- Stylesheets -->
  <link href="../web.css" type="text/css" rel="stylesheet"></link>
  <title>VLFeat - Documentation - C API</title>
   
  
  <!-- Scripts-->
  
 </meta>
 
 <!-- Body Start -->
 <body>
  <div id="header">
   <!-- Google CSE Search Box Begins -->
   <form action="http://www.vlfeat.org/search.html" method="get" id="cse-search-box" enctype="application/x-www-form-urlencoded">
    <div>
     <input type="hidden" name="cx" value="003215582122030917471:oq23albfeam"></input>
     <input type="hidden" name="cof" value="FORID:11"></input>
     <input type="hidden" name="ie" value="UTF-8"></input>
     <input type="text" name="q" size="31"></input>
     <input type="submit" name="sa" value="Search"></input>
    </div>
   </form>
   <script src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en" xml:space="preserve" type="text/javascript"></script>
   <!-- Google CSE Search Box Ends -->
   <h1>VLFeat.org</h1>
  </div>
  <div id="headbanner">
   Documentation - C API
  </div>
  <div id="pagebody">
   <div id="sidebar"> <!-- Navigation Start -->
    <ul>
<li><a href="../index.html">Home</a>
</li>
<li><a href="../download.html">Download</a>
</li>
<li><a href="../doc.html">Documentation</a>
<ul>
<li><a href="../mdoc/mdoc.html">Matlab API</a>
</li>
<li><a href="index.html" class='active' >C API</a>
</li>
<li><a href="../man/man.html">Man pages</a>
</li>
</ul></li>
<li><a href="../overview/tut.html">Tutorials</a>
</li>
</ul>

   </div> <!-- sidebar -->
   <div id="content">
    
    <div class="doxygen">
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>dsift.h File Reference</h1>Dense SIFT.  
<a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="generic_8h-source.html">generic.h</a>&quot;</code><br>

<p>
<a href="dsift_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVlDsiftKeypoint__.html">VlDsiftKeypoint_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dense SIFT keypoint.  <a href="structVlDsiftKeypoint__.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVlDsiftDescriptorGeometry__.html">VlDsiftDescriptorGeometry_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dense SIFT descriptor geometry.  <a href="structVlDsiftDescriptorGeometry__.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter_</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dense SIFT filter.  <a href="structVlDsiftFilter__.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="32095fa2dbadd257d7a479ded7b68fe5"></a><!-- doxytag: member="dsift.h::VlDsiftKeypoint" ref="32095fa2dbadd257d7a479ded7b68fe5" args="" -->
typedef struct <a class="el" href="structVlDsiftKeypoint__.html">VlDsiftKeypoint_</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#32095fa2dbadd257d7a479ded7b68fe5">VlDsiftKeypoint</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dense SIFT keypoint. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d38d2f2bda45dbe9e09109e28e2edfde"></a><!-- doxytag: member="dsift.h::VlDsiftDescriptorGeometry" ref="d38d2f2bda45dbe9e09109e28e2edfde" args="" -->
typedef struct <br class="typebreak">
<a class="el" href="structVlDsiftDescriptorGeometry__.html">VlDsiftDescriptorGeometry_</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#d38d2f2bda45dbe9e09109e28e2edfde">VlDsiftDescriptorGeometry</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dense SIFT descriptor geometry. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a92806a5761bca999917e9e352747730"></a><!-- doxytag: member="dsift.h::VlDsiftFilter" ref="a92806a5761bca999917e9e352747730" args="" -->
typedef struct <a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter_</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#a92806a5761bca999917e9e352747730">VlDsiftFilter</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dense SIFT filter. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT <a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#7cf3c57331ccafb453b37b0c5736b945">vl_dsift_new</a> (int width, int height)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new DSIFT filter.  <a href="#7cf3c57331ccafb453b37b0c5736b945"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT <a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#8709d5f69c90b0ddd0a5b9151e075369">vl_dsift_new_basic</a> (int width, int height, int step, int binSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new DSIFT filter (basic interface).  <a href="#8709d5f69c90b0ddd0a5b9151e075369"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#513d16efd29e795f6affb1dc55344b35">vl_dsift_delete</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete DSIFT filter.  <a href="#513d16efd29e795f6affb1dc55344b35"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#e2ae602b4923cbc79f8a4ed211f92f85">vl_dsift_process</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *self, float const *im)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute keypoints and descriptors.  <a href="#e2ae602b4923cbc79f8a4ed211f92f85"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#7f2af4547db71e3f71882c2e14e1ed80">vl_dsift_transpose_descriptor</a> (float *dst, float const *src, int numBinT, int numBinX, int numBinY)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transpose descriptor.  <a href="#7f2af4547db71e3f71882c2e14e1ed80"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#dd71202b9bea63e4ef0e7e6450d28469">_vl_dsift_update_buffers</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates internal buffers to current geometry.  <a href="#dd71202b9bea63e4ef0e7e6450d28469"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Setting parameters</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#42ae6bf77a9b737fd1e45ad5c43263dd">vl_dsift_set_steps</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *self, int stepX, int stepY)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set steps.  <a href="#42ae6bf77a9b737fd1e45ad5c43263dd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#7d34c8e257c873f2ed580b046296d1ac">vl_dsift_set_bounds</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *self, int minX, int minY, int maxX, int maxY)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set bounds.  <a href="#7d34c8e257c873f2ed580b046296d1ac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#930f20c25eab08d9490830b0a358ff2b">vl_dsift_set_geometry</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *self, <a class="el" href="structVlDsiftDescriptorGeometry__.html">VlDsiftDescriptorGeometry</a> const *geom)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set SIFT descriptor geometry.  <a href="#930f20c25eab08d9490830b0a358ff2b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#91f319a3e3558f7491634f78a9b1713b">vl_dsift_set_flat_window</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *self, int useFlatWindow)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set flat window flag.  <a href="#91f319a3e3558f7491634f78a9b1713b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#e60fa31ff4df09e8025525714dac9563">vl_dsift_set_window_size</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *self, double windowSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set SIFT descriptor Gaussian window size.  <a href="#e60fa31ff4df09e8025525714dac9563"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Retrieving data and parameters</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE float const *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#cd5425e9764383a5ef05bce00fd40e94">vl_dsift_get_descriptors</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get descriptors.  <a href="#cd5425e9764383a5ef05bce00fd40e94"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#eade8b18c21954f00d76f5dcb12b9bfe">vl_dsift_get_descriptor_size</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get descriptor size.  <a href="#eade8b18c21954f00d76f5dcb12b9bfe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#3b5fabb1496fc91a70669d4201f47a5b">vl_dsift_get_keypoint_num</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of keypoints.  <a href="#3b5fabb1496fc91a70669d4201f47a5b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE <a class="el" href="structVlDsiftKeypoint__.html">VlDsiftKeypoint</a> const *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#0cba85e88ae5232fe74368175a8ba510">vl_dsift_get_keypoints</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get keypoints.  <a href="#0cba85e88ae5232fe74368175a8ba510"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#e6847be5d2204f06551e12c4a2a84990">vl_dsift_get_bounds</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *self, int *minX, int *minY, int *maxX, int *maxY)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get bounds.  <a href="#e6847be5d2204f06551e12c4a2a84990"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#aae1634a166ab5a61d89236fa5bf04d3">vl_dsift_get_steps</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *self, int *stepX, int *stepY)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get steps.  <a href="#aae1634a166ab5a61d89236fa5bf04d3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE <br class="typebreak">
<a class="el" href="structVlDsiftDescriptorGeometry__.html">VlDsiftDescriptorGeometry</a> <br class="typebreak">
const *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#55eb4068cd76b03c3bb120a895b7ed13">vl_dsift_get_geometry</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get SIFT descriptor geometry.  <a href="#55eb4068cd76b03c3bb120a895b7ed13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE <a class="el" href="host_8h.html#d32e7f8ec7333ff33998cf671a3b1412">vl_bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#2f20d74d4250ebf12dc80235a31a64b6">vl_dsift_get_flat_window</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get flat window flag.  <a href="#2f20d74d4250ebf12dc80235a31a64b6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="dsift_8h.html#ccc84f1fe321e07b09f90ca45a03dcb7">vl_dsift_get_window_size</a> (<a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get SIFT descriptor Gaussian window size.  <a href="#ccc84f1fe321e07b09f90ca45a03dcb7"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Andrea Vedaldi <p>
Brian Fulkerson</dd></dl>
<h2><a class="anchor" name="dsift">
Dense Scale Invariant Feature Transform</a></h2>
This module implements a dense version of <a class="el" href="sift_8h.html">SIFT</a>. This is an object that can quickly compute descriptors for densely sampled keypoints with identical size and orientation. It can be reused for multiple images of the same size.<p>
<ul>
<li><a class="el" href="dsift_8h.html#dsift-intro">Overview</a></li><li><a class="el" href="dsift_8h.html#dsift-usage">Usage</a></li><li><a class="el" href="dsift_8h.html#dsift-tech">Technical details</a><ul>
<li><a class="el" href="dsift_8h.html#dsift-tech-descriptor-dense">Dense descriptors</a></li><li><a class="el" href="dsift_8h.html#dsift-tech-sampling">Sampling</a></li></ul>
</li></ul>
<h2><a class="anchor" name="dsift-intro">
Overview</a></h2>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="sift_8h.html#sift">The SIFT module</a>, <a class="el" href="dsift_8h.html#dsift-tech">Technical details</a></dd></dl>
This module implements a fast algorithm for the calculation of a large number of SIFT descriptors of densely sampled features of the same scale and orientation. See the <a class="el" href="sift_8h.html#sift">SIFT module</a> for an overview of SIFT.<p>
The feature frames (keypoints) are indirectly specified by the sampling steps (<a class="el" href="dsift_8h.html#42ae6bf77a9b737fd1e45ad5c43263dd" title="Set steps.">vl_dsift_set_steps</a>) and the sampling bounds (<a class="el" href="dsift_8h.html#7d34c8e257c873f2ed580b046296d1ac" title="Set bounds.">vl_dsift_set_bounds</a>). The descriptor geometry (number and size of the spatial bins and number of orientation bins) can be customized (<a class="el" href="dsift_8h.html#930f20c25eab08d9490830b0a358ff2b" title="Set SIFT descriptor geometry.">vl_dsift_set_geometry</a>).<p>
<div align="center">
<img src="dsift-geom.png" alt="dsift-geom.png">
<p><strong>Dense SIFT descriptor geometry</strong></p></div>
 By default, SIFT uses a Gaussian windowing function that discounts contributions of gradients further away from the descriptor centers. This function can be changed to a flat window by invoking <a class="el" href="dsift_8h.html#91f319a3e3558f7491634f78a9b1713b" title="Set flat window flag.">vl_dsift_set_flat_window</a> (this greatly speeds-up the calculation).<p>
Keypoints are sampled in such a way that all bin centers are at integer coordinates within the image boundaries. <a class="el" href="dsift_8h.html#7d34c8e257c873f2ed580b046296d1ac" title="Set bounds.">vl_dsift_set_bounds</a> can be used to further restrict sampling to the keypoints in an image subregion.<p>
<dl class="remark" compact><dt><b>Remarks:</b></dt><dd>This descriptor is <em>not</em> equivalent to N. Dalal and B. Triggs. <em>Histograms of Oriented Gradients for Human Detection.</em> CVPR 2005. It is instead just a dense version of SIFT.</dd></dl>
<h2><a class="anchor" name="dsift-usage">
Usage</a></h2>
DSIFT is implemented by a <a class="el" href="dsift_8h.html#a92806a5761bca999917e9e352747730" title="Dense SIFT filter.">VlDsiftFilter</a> object that can be used to process a sequence of images of a given geometry. To use the <b>DSIFT filter</b>:<p>
<ul>
<li>Initialize a new DSIFT filter object by <a class="el" href="dsift_8c.html#5dc43589ca865d698cf09c60b2e19259" title="Create a new DSIFT filter.">vl_dsift_new()</a> (or the simplified <a class="el" href="dsift_8c.html#ad78f3b3661c1cd199839fb86c0838f3" title="Create a new DSIFT filter (basic interface).">vl_dsift_new_basic()</a>). Customize the descriptor parameters by <a class="el" href="dsift_8h.html#42ae6bf77a9b737fd1e45ad5c43263dd" title="Set steps.">vl_dsift_set_steps</a>, vl_dsfit_set_geometry, etc.</li><li>Process an image by <a class="el" href="dsift_8c.html#09d5525ad7e16e2b9f3f1b9d273c85f6" title="Compute keypoints and descriptors.">vl_dsift_process()</a>.</li><li>Retrieve the number of keypoints (vl_dsift_get_nkeypoint), the keypoints (<a class="el" href="dsift_8h.html#0cba85e88ae5232fe74368175a8ba510" title="Get keypoints.">vl_dsift_get_keypoints</a>), and their descriptors (<a class="el" href="dsift_8h.html#cd5425e9764383a5ef05bce00fd40e94" title="Get descriptors.">vl_dsift_get_descriptors</a>).</li><li>Optionally repeat for more images.</li><li>Delete the DSIFT filter by <a class="el" href="dsift_8c.html#513d16efd29e795f6affb1dc55344b35" title="Delete DSIFT filter.">vl_dsift_delete()</a>.</li></ul>
<h2><a class="anchor" name="dsift-tech">
Technical details</a></h2>
This section extends the <a class="el" href="sift_8h.html#sift-tech-descriptor">SIFT descriptor section</a> and specialzies it to the case of dense keypoints.<h3><a class="anchor" name="dsift-tech-descriptor-dense">
Dense descriptors</a></h3>
When computing descriptors for many keypoints differing only by their position (and with null rotation), further simplifications are possible. In this case, in fact,<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} \mathbf{x} &amp;=&amp; m \sigma \hat \mathbf{x} + T,\\ h(t,i,j) &amp;=&amp; m \sigma \int g_{\sigma_\mathrm{win}}(\mathbf{x} - T)\, w_\mathrm{ang}(\angle J(\mathbf{x}) - \theta_t)\, w\left(\frac{x - T_x}{m\sigma} - \hat{x}_i\right)\, w\left(\frac{y - T_y}{m\sigma} - \hat{y}_j\right)\, |J(\mathbf{x})|\, d\mathbf{x}. \end{eqnarray*}" src="form_44.png">
<p>
<p>
Since many different values of <em>T</em> are sampled, this is conveniently expressed as a separable convolution. First, we translate by <img class="formulaInl" alt="$ \mathbf{x}_{ij} = m\sigma(\hat x_i,\ \hat y_i)^\top $" src="form_45.png"> and we use the symmetry of the various binning and windowing functions to write<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} h(t,i,j) &amp;=&amp; m \sigma \int g_{\sigma_\mathrm{win}}(T' - \mathbf{x} - \mathbf{x}_{ij})\, w_\mathrm{ang}(\angle J(\mathbf{x}) - \theta_t)\, w\left(\frac{T'_x - x}{m\sigma}\right)\, w\left(\frac{T'_y - y}{m\sigma}\right)\, |J(\mathbf{x})|\, d\mathbf{x}, \\ T' &amp;=&amp; T + m\sigma \left[\begin{array}{cc} x_i \\ y_j \end{array}\right]. \end{eqnarray*}" src="form_46.png">
<p>
<p>
Then we define kernels<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} k_i(x) &amp;=&amp; \frac{1}{\sqrt{2\pi} \sigma_{\mathrm{win}}} \exp\left( -\frac{1}{2} \frac{(x-x_i)^2}{\sigma_{\mathrm{win}}^2} \right) w\left(\frac{x}{m\sigma}\right), \\ k_j(y) &amp;=&amp; \frac{1}{\sqrt{2\pi} \sigma_{\mathrm{win}}} \exp\left( -\frac{1}{2} \frac{(y-y_j)^2}{\sigma_{\mathrm{win}}^2} \right) w\left(\frac{y}{m\sigma}\right), \end{eqnarray*}" src="form_47.png">
<p>
<p>
and obtain<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} h(t,i,j) &amp;=&amp; (k_ik_j * \bar J_t)\left( T + m\sigma \left[\begin{array}{cc} x_i \\ y_j \end{array}\right] \right), \\ \bar J_t(\mathbf{x}) &amp;=&amp; w_\mathrm{ang}(\angle J(\mathbf{x}) - \theta_t)\,|J(\mathbf{x})|. \end{eqnarray*}" src="form_48.png">
<p>
<p>
Furthermore, if we use a flat rather than Gaussian windowing function, the kernels do not depend on the bin, and we have<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} k(z) &amp;=&amp; \frac{1}{\sigma_{\mathrm{win}}} w\left(\frac{z}{m\sigma}\right), \\ h(t,i,j) &amp;=&amp; (k(x)k(y) * \bar J_t)\left( T + m\sigma \left[\begin{array}{cc} x_i \\ y_j \end{array}\right] \right), \end{eqnarray*}" src="form_49.png">
<p>
<p>
(here <img class="formulaInl" alt="$ \sigma_\mathrm{win} $" src="form_50.png"> is the side of the flat window).<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>In this case the binning functions <img class="formulaInl" alt="$ k(z) $" src="form_51.png"> are triangular and the convolution can be computed in time independent on the filter (i.e. descriptor bin) support size by integral signals.</dd></dl>
<h3><a class="anchor" name="dsift-tech-sampling">
Sampling</a></h3>
To avoid resampling and dealing with special boundary conditions, we impose some mild restrictions on the geometry of the descriptors that can be computed. In particular, we impose that the bin centers <img class="formulaInl" alt="$ T + m\sigma (x_i,\ y_j) $" src="form_52.png"> are always at integer coordinates within the image boundaries. This eliminates the need for costly interpolation. This condition amounts to (expressed in terms of the <em>x</em> coordinate, and equally applicable to <em>y</em>)<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \{0,\dots, W-1\} \ni T_x + m\sigma x_i = T_x + m\sigma i - \frac{N_x-1}{2} = \bar T_x + m\sigma i, \qquad i = 0,\dots,N_x-1. \]" src="form_53.png">
<p>
<p>
Notice that for this condition to be satisfied, the <em>descriptor</em> center <img class="formulaInl" alt="$ T_x $" src="form_54.png"> needs to be either fractional or integer depending on <img class="formulaInl" alt="$ N_x $" src="form_55.png"> being even or odd. To eliminate this complication, it is simpler to use as a reference not the descriptor center <em>T</em>, but the coordinates of the upper-left bin <img class="formulaInl" alt="$ \bar T $" src="form_56.png">. Thus we sample the latter on a regular (integer) grid<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \left[\begin{array}{cc} 0 \\ 0 \end{array}\right] \leq \bar T = \left[\begin{array}{cc} \bar T_x^{\min} + p \Delta_x \\ \bar T_y^{\min} + q \Delta_y \\ \end{array}\right] \leq \left[\begin{array}{cc} W - 1 - m\sigma N_x \\ H - 1 - m\sigma N_y \end{array}\right], \quad \bar T = \left[\begin{array}{cc} T_x - \frac{N_x - 1}{2} \\ T_y - \frac{N_y - 1}{2} \\ \end{array}\right] \]" src="form_57.png">
<p>
<p>
and we impose that the bin size <img class="formulaInl" alt="$ m \sigma $" src="form_58.png"> is integer as well.<p>
brief Dense SIFT (DSIFT) author Andrea Vedaldi 
<p>Definition in file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="dd71202b9bea63e4ef0e7e6450d28469"></a><!-- doxytag: member="dsift.h::_vl_dsift_update_buffers" ref="dd71202b9bea63e4ef0e7e6450d28469" args="(VlDsiftFilter *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void _vl_dsift_update_buffers           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<p><b>For internal use only.</b></p>
<p>
</p>

<p>Definition at line <a class="el" href="dsift_8c-source.html#l00349">349</a> of file <a class="el" href="dsift_8c-source.html">dsift.c</a>.</p>

<p>Referenced by <a class="el" href="dsift_8c-source.html#l00377">_vl_dsift_alloc_buffers()</a>, <a class="el" href="dsift_8c-source.html#l00418">vl_dsift_new()</a>, <a class="el" href="dsift_8h-source.html#l00252">vl_dsift_set_bounds()</a>, <a class="el" href="dsift_8h-source.html#l00269">vl_dsift_set_geometry()</a>, and <a class="el" href="dsift_8h-source.html#l00233">vl_dsift_set_steps()</a>.</p>

</div>
</div><p>
<a class="anchor" name="513d16efd29e795f6affb1dc55344b35"></a><!-- doxytag: member="dsift.h::vl_dsift_delete" ref="513d16efd29e795f6affb1dc55344b35" args="(VlDsiftFilter *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void vl_dsift_delete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8c-source.html#l00489">489</a> of file <a class="el" href="dsift_8c-source.html">dsift.c</a>.</p>

<p>References <a class="el" href="dsift_8c-source.html#l00322">_vl_dsift_free_buffers()</a>, and <a class="el" href="generic_8h-source.html#l00265">vl_free()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e6847be5d2204f06551e12c4a2a84990"></a><!-- doxytag: member="dsift.h::vl_dsift_get_bounds" ref="e6847be5d2204f06551e12c4a2a84990" args="(VlDsiftFilter const *self, int *minX, int *minY, int *maxX, int *maxY)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vl_dsift_get_bounds           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>minX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>minY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>maxX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>maxY</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>minX</em>&nbsp;</td><td>bounding box minimum X coordinate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>minY</em>&nbsp;</td><td>bounding box minimum Y coordinate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxX</em>&nbsp;</td><td>bounding box maximum X coordinate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxY</em>&nbsp;</td><td>bounding box maximum Y coordinate. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00188">188</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="eade8b18c21954f00d76f5dcb12b9bfe"></a><!-- doxytag: member="dsift.h::vl_dsift_get_descriptor_size" ref="eade8b18c21954f00d76f5dcb12b9bfe" args="(VlDsiftFilter const *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vl_dsift_get_descriptor_size           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>size of a descriptor. </dd></dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00128">128</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

<p>Referenced by <a class="el" href="dsift_8c-source.html#l00377">_vl_dsift_alloc_buffers()</a>, <a class="el" href="dsift_8c-source.html#l00579">_vl_dsift_with_flat_window()</a>, <a class="el" href="dsift_8c-source.html#l00504">_vl_dsift_with_gaussian_window()</a>, and <a class="el" href="dsift_8c-source.html#l00660">vl_dsift_process()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cd5425e9764383a5ef05bce00fd40e94"></a><!-- doxytag: member="dsift.h::vl_dsift_get_descriptors" ref="cd5425e9764383a5ef05bce00fd40e94" args="(VlDsiftFilter const *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float const * vl_dsift_get_descriptors           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>descriptors. </dd></dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00140">140</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="2f20d74d4250ebf12dc80235a31a64b6"></a><!-- doxytag: member="dsift.h::vl_dsift_get_flat_window" ref="2f20d74d4250ebf12dc80235a31a64b6" args="(VlDsiftFilter const *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vl_dsift_get_flat_window           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><code>TRUE</code> if the DSIFT filter uses a flat window. </dd></dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00204">204</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="55eb4068cd76b03c3bb120a895b7ed13"></a><!-- doxytag: member="dsift.h::vl_dsift_get_geometry" ref="55eb4068cd76b03c3bb120a895b7ed13" args="(VlDsiftFilter const *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structVlDsiftDescriptorGeometry__.html">VlDsiftDescriptorGeometry</a> const * vl_dsift_get_geometry           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>DSIFT descriptor geometry. </dd></dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00173">173</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

<p>Referenced by <a class="el" href="dsift_8c-source.html#l00472">vl_dsift_new_basic()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3b5fabb1496fc91a70669d4201f47a5b"></a><!-- doxytag: member="dsift.h::vl_dsift_get_keypoint_num" ref="3b5fabb1496fc91a70669d4201f47a5b" args="(VlDsiftFilter const *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vl_dsift_get_keypoint_num           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00162">162</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

<p>Referenced by <a class="el" href="dsift_8c-source.html#l00377">_vl_dsift_alloc_buffers()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0cba85e88ae5232fe74368175a8ba510"></a><!-- doxytag: member="dsift.h::vl_dsift_get_keypoints" ref="0cba85e88ae5232fe74368175a8ba510" args="(VlDsiftFilter const *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structVlDsiftKeypoint__.html">VlDsiftKeypoint</a> const * vl_dsift_get_keypoints           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00151">151</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="aae1634a166ab5a61d89236fa5bf04d3"></a><!-- doxytag: member="dsift.h::vl_dsift_get_steps" ref="aae1634a166ab5a61d89236fa5bf04d3" args="(VlDsiftFilter const *self, int *stepX, int *stepY)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vl_dsift_get_steps           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>stepX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>stepY</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stepX</em>&nbsp;</td><td>sampling step along X. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stepY</em>&nbsp;</td><td>sampling step along Y. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00217">217</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ccc84f1fe321e07b09f90ca45a03dcb7"></a><!-- doxytag: member="dsift.h::vl_dsift_get_window_size" ref="ccc84f1fe321e07b09f90ca45a03dcb7" args="(VlDsiftFilter const *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE double vl_dsift_get_window_size           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> const *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>window size. </dd></dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00346">346</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7cf3c57331ccafb453b37b0c5736b945"></a><!-- doxytag: member="dsift.h::vl_dsift_new" ref="7cf3c57331ccafb453b37b0c5736b945" args="(int width, int height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT <a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a>* vl_dsift_new           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>imWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>imHeight</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>imWidth</em>&nbsp;</td><td>width of the image. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>imHeight</em>&nbsp;</td><td>height of the image</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>new filter. </dd></dl>

<p>Definition at line <a class="el" href="dsift_8c-source.html#l00418">418</a> of file <a class="el" href="dsift_8c-source.html">dsift.c</a>.</p>

<p>References <a class="el" href="dsift_8c-source.html#l00349">_vl_dsift_update_buffers()</a>, <a class="el" href="host_8h-source.html#l00184">VL_FALSE</a>, and <a class="el" href="generic_8h-source.html#l00247">vl_malloc()</a>.</p>

<p>Referenced by <a class="el" href="dsift_8c-source.html#l00472">vl_dsift_new_basic()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8709d5f69c90b0ddd0a5b9151e075369"></a><!-- doxytag: member="dsift.h::vl_dsift_new_basic" ref="8709d5f69c90b0ddd0a5b9151e075369" args="(int width, int height, int step, int binSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT <a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a>* vl_dsift_new_basic           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>imWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>imHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>binSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>imWidth</em>&nbsp;</td><td>width of the image. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>imHeight</em>&nbsp;</td><td>height of the image. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>step</em>&nbsp;</td><td>sampling step. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>binSize</em>&nbsp;</td><td>bin size.</td></tr>
  </table>
</dl>
The descriptor geometry matches the standard SIFT descriptor.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>new filter. </dd></dl>

<p>Definition at line <a class="el" href="dsift_8c-source.html#l00472">472</a> of file <a class="el" href="dsift_8c-source.html">dsift.c</a>.</p>

<p>References <a class="el" href="dsift_8h-source.html#l00033">VlDsiftDescriptorGeometry_::binSizeX</a>, <a class="el" href="dsift_8h-source.html#l00034">VlDsiftDescriptorGeometry_::binSizeY</a>, <a class="el" href="dsift_8h-source.html#l00173">vl_dsift_get_geometry()</a>, <a class="el" href="dsift_8c-source.html#l00418">vl_dsift_new()</a>, <a class="el" href="dsift_8h-source.html#l00269">vl_dsift_set_geometry()</a>, and <a class="el" href="dsift_8h-source.html#l00233">vl_dsift_set_steps()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e2ae602b4923cbc79f8a4ed211f92f85"></a><!-- doxytag: member="dsift.h::vl_dsift_process" ref="e2ae602b4923cbc79f8a4ed211f92f85" args="(VlDsiftFilter *self, float const *im)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void vl_dsift_process           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float const *&nbsp;</td>
          <td class="paramname"> <em>im</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>im</em>&nbsp;</td><td>image data. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8c-source.html#l00660">660</a> of file <a class="el" href="dsift_8c-source.html">dsift.c</a>.</p>

<p>References <a class="el" href="dsift_8c-source.html#l00377">_vl_dsift_alloc_buffers()</a>, <a class="el" href="dsift_8c-source.html#l00300">_vl_dsift_normalize_histogram()</a>, <a class="el" href="dsift_8c-source.html#l00579">_vl_dsift_with_flat_window()</a>, <a class="el" href="dsift_8c-source.html#l00504">_vl_dsift_with_gaussian_window()</a>, <a class="el" href="dsift_8h-source.html#l00024">VlDsiftKeypoint_::norm</a>, <a class="el" href="dsift_8h-source.html#l00128">vl_dsift_get_descriptor_size()</a>, <a class="el" href="mathop_8h-source.html#l00214">vl_fast_atan2_f()</a>, <a class="el" href="mathop_8h-source.html#l00387">vl_fast_sqrt_f()</a>, <a class="el" href="mathop_8h-source.html#l00130">vl_floor_f()</a>, <a class="el" href="mathop_8h-source.html#l00105">vl_mod_2pi_f()</a>, <a class="el" href="mathop_8h-source.html#l00023">VL_PI</a>, <a class="el" href="dsift_8h-source.html#l00021">VlDsiftKeypoint_::x</a>, and <a class="el" href="dsift_8h-source.html#l00022">VlDsiftKeypoint_::y</a>.</p>

</div>
</div><p>
<a class="anchor" name="7d34c8e257c873f2ed580b046296d1ac"></a><!-- doxytag: member="dsift.h::vl_dsift_set_bounds" ref="7d34c8e257c873f2ed580b046296d1ac" args="(VlDsiftFilter *self, int minX, int minY, int maxX, int maxY)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vl_dsift_set_bounds           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>minX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>minY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxY</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>minX</em>&nbsp;</td><td>bounding box minimum X coordinate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>minY</em>&nbsp;</td><td>bounding box minimum Y coordinate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxX</em>&nbsp;</td><td>bounding box maximum X coordinate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxY</em>&nbsp;</td><td>bounding box maximum Y coordinate. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00252">252</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

<p>References <a class="el" href="dsift_8c-source.html#l00349">_vl_dsift_update_buffers()</a>.</p>

</div>
</div><p>
<a class="anchor" name="91f319a3e3558f7491634f78a9b1713b"></a><!-- doxytag: member="dsift.h::vl_dsift_set_flat_window" ref="91f319a3e3558f7491634f78a9b1713b" args="(VlDsiftFilter *self, int useFlatWindow)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vl_dsift_set_flat_window           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>useFlatWindow</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>useFlatWindow</em>&nbsp;</td><td><code>true</code> if the DSIFT filter should use a flat window. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00283">283</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="930f20c25eab08d9490830b0a358ff2b"></a><!-- doxytag: member="dsift.h::vl_dsift_set_geometry" ref="930f20c25eab08d9490830b0a358ff2b" args="(VlDsiftFilter *self, VlDsiftDescriptorGeometry const *geom)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vl_dsift_set_geometry           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structVlDsiftDescriptorGeometry__.html">VlDsiftDescriptorGeometry</a> const *&nbsp;</td>
          <td class="paramname"> <em>geom</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>geom</em>&nbsp;</td><td>descriptor geometry parameters. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00269">269</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

<p>References <a class="el" href="dsift_8c-source.html#l00349">_vl_dsift_update_buffers()</a>.</p>

<p>Referenced by <a class="el" href="dsift_8c-source.html#l00472">vl_dsift_new_basic()</a>.</p>

</div>
</div><p>
<a class="anchor" name="42ae6bf77a9b737fd1e45ad5c43263dd"></a><!-- doxytag: member="dsift.h::vl_dsift_set_steps" ref="42ae6bf77a9b737fd1e45ad5c43263dd" args="(VlDsiftFilter *self, int stepX, int stepY)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vl_dsift_set_steps           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stepX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stepY</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stepX</em>&nbsp;</td><td>sampling step along X. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stepY</em>&nbsp;</td><td>sampling step along Y. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00233">233</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

<p>References <a class="el" href="dsift_8c-source.html#l00349">_vl_dsift_update_buffers()</a>.</p>

<p>Referenced by <a class="el" href="dsift_8c-source.html#l00472">vl_dsift_new_basic()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e60fa31ff4df09e8025525714dac9563"></a><!-- doxytag: member="dsift.h::vl_dsift_set_window_size" ref="e60fa31ff4df09e8025525714dac9563" args="(VlDsiftFilter *self, double windowSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vl_dsift_set_window_size           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVlDsiftFilter__.html">VlDsiftFilter</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>windowSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>DSIFT filter object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>windowSize</em>&nbsp;</td><td>window size. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00333">333</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="7f2af4547db71e3f71882c2e14e1ed80"></a><!-- doxytag: member="dsift.h::vl_dsift_transpose_descriptor" ref="7f2af4547db71e3f71882c2e14e1ed80" args="(float *dst, float const *src, int numBinT, int numBinX, int numBinY)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE void vl_dsift_transpose_descriptor           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float const *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numBinT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numBinX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numBinY</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dst</em>&nbsp;</td><td>destination buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>source buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numBinT</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numBinX</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>numBinY</em>&nbsp;</td><td>The function writes to <em>dst</em> the transpose of the SIFT descriptor <em>src</em>. Let <code>I</code> be an image. The transpose operator satisfies the equation <code>transpose(dsift(I,x,y)) = dsift(transpose(I),y,x)</code> </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="dsift_8h-source.html#l00305">305</a> of file <a class="el" href="dsift_8h-source.html">dsift.h</a>.</p>

</div>
</div><p>
</div>
     <!-- Doc Here -->
    </div>
   
   </div>
   <div class="clear">&nbsp;</div>
  </div> <!-- pagebody -->
  <div id="footer">
   &copy; 2005-09 Andrea Vedaldi and Brian Fulkerson
  </div> <!-- footer -->
  
  <!-- Google Analytics Begins -->
  <script xml:space="preserve" type="text/javascript">
   //<![CDATA[
    var localre = /vlfeat.org/;
    if(document.location.host.search(localre) != -1)
    {
   var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
   document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
   }
   //]]>
  </script>
  <script xml:space="preserve" type="text/javascript">
    //<![CDATA[
    var localre = /vlfeat.org/;
    if(document.location.host.search(localre) != -1)
    {

   try {
   var pageTracker = _gat._getTracker("UA-4936091-2");
   pageTracker._trackPageview();
   } catch(err) {}

   }
   //]]>
  </script>
  <!-- Google Analytics Ends -->
 </body>
</html>

 
